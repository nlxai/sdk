<!doctype html>
<html lang="en">
  <head>
    <title>NLX | Developers</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="SDK for rich conversational experiences powered by NLX."
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css"
    />
    <link rel="preconnect" href="https://Q8STLFAZ7J-dsn.algolia.net" crossorigin />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.3.4/dist/css/datepicker.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.3.4/dist/js/datepicker-full.min.js"></script>

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="./favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="./favicon-16x16.png" />
    <link rel="manifest" href="./site.webmanifest" />
    <script type="module" crossorigin src="./assets/index-059211b9.js"></script>
    <link rel="stylesheet" href="./assets/index-380ba8b9.css">
  </head>

  <body>
    <div id="app" class="flex min-h-full bg-background-docs">
      <div class="flex w-full flex-col text-primary-80"><header class="sticky top-0 z-50 flex flex-none flex-wrap items-center justify-between bg-background-docs border-b border-primary-10 text-primary-80 px-4 py-5 sm:px-6 lg:px-8 h-[4.75rem]"><div class="mr-6 flex lg:hidden"><button type="button" class="relative text-primary-60 hover:text-primary-80" aria-label="Open navigation"><svg aria-hidden="true" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke="currentColor" class="h-6 w-6"><path d="M4 7h16M4 12h16M4 17h16"></path></svg></button></div><a class="relative flex flex-grow basis-0 items-center gap-3 text-primary-80" href="/"><span class="relative -top-[1px]"><svg width="26" height="26" viewBox="0 -5 24 24" fill="currentColor" stroke="none"><path d="M13.4947 11.5021C12.8648 11.5021 12.4698 11.0728 12.4698 10.5147V1.3282C12.4698 0.73558 11.9917 0.255005 11.4021 0.255005C10.8126 0.255005 10.3345 0.73558 10.3345 1.3282V10.5147C10.3345 11.1073 10.8126 11.5879 11.4021 11.5879C11.9327 11.5879 12.363 11.9957 12.363 12.6074C12.363 13.2297 12.865 13.7343 13.484 13.7343C14.103 13.7343 14.605 13.2297 14.605 12.6074C14.605 11.9852 14.1246 11.5021 13.4947 11.5021Z"></path><path d="M7.40712 5.859C6.87545 5.859 6.4484 5.44925 6.4484 4.83753C6.4484 4.20435 5.97865 3.68922 5.33808 3.68922C4.69751 3.68922 4.20641 4.26874 4.20641 4.83753C4.20641 5.40633 3.75801 5.81414 3.24555 5.81414C2.7331 5.81414 2.2847 5.41706 2.2847 4.84827C2.2847 4.20435 1.75089 3.68922 1.11032 3.68922C0.469751 3.68922 0 4.21508 0 4.84827C0 5.50291 0.501993 5.96439 1.121 5.96439C1.66548 5.96439 2.11345 6.39259 2.11345 6.95108C2.11345 7.50957 1.67637 7.89613 1.15302 7.89613C0.563488 7.89613 0.0854093 8.33378 0.0854093 8.9264C0.0854093 8.9264 0.0854092 12.747 0.0890391 12.7455C0.0890391 13.305 0.591673 13.7343 1.15302 13.7343C1.71438 13.7343 2.21701 13.305 2.21701 12.7455L2.2232 8.9264C2.22064 8.49712 2.7331 8.06999 3.2432 8.06999L3.24555 8.06784L3.24534 8.06763C3.85601 8.06205 4.35587 7.57417 4.35587 6.93026C4.35587 6.40877 4.76715 5.98372 5.2814 5.96503L5.33872 5.96503C5.8721 5.96503 6.27758 6.40418 6.27758 6.93026V12.6611C6.27758 13.2537 6.75566 13.7343 7.3452 13.7343C7.93473 13.7343 8.41281 13.2537 8.41281 12.6611V6.93026C8.41281 6.35846 7.939 5.859 7.40712 5.859ZM5.33808 5.96439L5.30807 5.96443C5.31095 5.9644 5.31384 5.96439 5.31673 5.96439H5.33808ZM5.33786 5.96417L5.33808 5.96439C5.33808 5.96439 5.33808 5.96417 5.33786 5.96417Z"></path><path d="M24 6.8444C24 7.43702 23.5302 7.9176 22.8256 7.9176C22.2512 7.9176 21.843 8.20714 21.8231 8.71712C21.843 9.22711 22.2512 9.51665 22.8256 9.51665C23.5302 9.51665 24 9.99723 24 10.5898V12.6718C24 13.2645 23.5219 13.745 22.9324 13.745C22.3428 13.745 21.8648 13.2645 21.8648 12.6718C21.8648 12.6718 21.8652 11.1479 21.8652 10.6107C21.8652 10.0734 21.4345 9.64544 20.9039 9.64544H19.4093C18.8786 9.64544 18.448 10.0734 18.448 10.6107C18.448 11.1479 18.4484 12.6718 18.4484 12.6718C18.4484 13.2645 17.9703 13.745 17.3808 13.745C16.7912 13.745 16.3132 13.2645 16.3132 12.6718V10.5898C16.3132 9.99723 16.7829 9.51665 17.4875 9.51665C18.0621 9.51665 18.4702 9.22711 18.49 8.71712C18.4702 8.20714 18.0619 7.9176 17.4875 7.9176C16.7829 7.9176 16.3132 7.43702 16.3132 6.8444V4.78388C16.3132 4.19126 16.7912 3.71068 17.3808 3.71068C17.9703 3.71068 18.4484 4.19126 18.4484 4.78388C18.4484 4.78388 18.448 6.28634 18.448 6.82358C18.448 7.36082 18.8786 7.76735 19.4093 7.76735H20.9039C21.4345 7.76735 21.8652 7.36082 21.8652 6.82358C21.8652 6.28634 21.8648 4.78388 21.8648 4.78388C21.8648 4.19126 22.3428 3.71068 22.9324 3.71068C23.5219 3.71068 24 4.19126 24 4.78388V6.8444Z"></path></svg></span><span class="h-5 border-l border-primary-40 inline-block"></span><span class="block" aria-label="Home page"><span class="text-primary-60">Developer</span> <span class="text-primary-80">Docs</span></span></a><div class="relative flex basis-0 justify-end gap-4 md:flex-grow items-center"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button><a class="text-primary-60 hover:text-primary-80" aria-label="GitHub" href="https://github.com/nlxai/sdk"><svg aria-hidden="true" viewBox="0 0 16 16" class="h-6 w-6" fill="currentColor"><path d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z"></path></svg></a></div></header><div class="relative mx-auto flex w-full max-w-8xl flex-auto justify-center"><div class="hidden lg:relative lg:block lg:flex-none"><div class="sticky top-[4.75rem] -ml-0.5 h-[calc(100vh-4.75rem)] w-64 overflow-y-auto overflow-x-hidden px-6 py-16"><nav class="text-base lg:text-sm"><ul role="list" class="space-y-9"><li><h2 class="text-primary-90 font-medium">Introduction</h2><ul role="list" class="mt-2 space-y-2 lg:mt-4 lg:space-y-4"><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/getting-started">Getting started</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/installation">Installation</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/touchpoint-ui-Core-Concepts">Core Concepts</a></li></ul></li><li><h2 class="text-primary-90 font-medium">Touchpoint Setup</h2><ul role="list" class="mt-2 space-y-2 lg:mt-4 lg:space-y-4"><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/touchpoint-ui-try-live">Quick Start</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/touchpoint-ui-setup">Configuration</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/touchpoint-ui-theming">Theming and Styling</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/guide-touchpoint-chat-modes">Chat Modes</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/touchpoint-voice">Native Voice Input</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/touchpoint-voice-plus">Bidirectional Voice Plus</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/touchpoint-ui-api-reference">API reference</a></li></ul></li><li><h2 class="text-primary-90 font-medium">Conversation Control</h2><ul role="list" class="mt-2 space-y-2 lg:mt-4 lg:space-y-4"><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/touchpoint-ui-ConversationHandler">The Conversation Handler</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/guide-custom-launch">Launching with Context</a></li><li class="relative"><a class="block text-accent" href="/guide-subscribing-to-events">Subscribing to Events</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/guide-show-hide-touchpoint">Showing and Hiding Touchpoint</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/guide-persisting-history">Persist Conversation History</a></li></ul></li><li><h2 class="text-primary-90 font-medium">Custom Components</h2><ul role="list" class="mt-2 space-y-2 lg:mt-4 lg:space-y-4"><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/guide-building-custom-components">Getting Started</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/touchpoint-carousel">Carousel</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/touchpoint-Typography">Typography</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/touchpoint-Buttons">Buttons</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/touchpoint-CustomCards">Custom Cards</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/touchpoint-Icons">Icons</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/touchpoint-DateInput">DateInput</a></li></ul></li><li><h2 class="text-primary-90 font-medium">Custom widgets</h2><ul role="list" class="mt-2 space-y-2 lg:mt-4 lg:space-y-4"><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/custom-widgets-getting-started">Getting started</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/custom-widgets-react">React &amp; Preact</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/react-api-reference">React API reference</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/preact-api-reference">Preact API reference</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/custom-widgets-other">Other frameworks</a></li></ul></li><li><h2 class="text-primary-90 font-medium">Headless API</h2><ul role="list" class="mt-2 space-y-2 lg:mt-4 lg:space-y-4"><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/headless-getting-started">Getting started</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/headless-api-reference">API reference</a></li></ul></li><li><h2 class="text-primary-90 font-medium">Voice+</h2><ul role="list" class="mt-2 space-y-2 lg:mt-4 lg:space-y-4"><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/voice-plus-getting-started">Getting started</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/voice-plus-usage">Usage</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/voice-plus-api-reference">API reference</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/voice-plus-try-live">Try live</a></li></ul></li><li><h2 class="text-primary-90 font-medium">Script manager</h2><ul role="list" class="mt-2 space-y-2 lg:mt-4 lg:space-y-4"><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/script-manager-getting-started">Getting started</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/script-manager-api-reference">API reference</a></li><li class="relative"><a class="block text-primary-60 hover:text-primary-80" href="/script-manager-query-engine">Understanding the query engine</a></li></ul></li></ul></nav></div></div><div class="min-w-0 max-w-2xl flex-auto px-4 lg:px-8 py-16 lg:max-w-none xl:px-16"><article><main class="max-w-3xl mx-auto space-y-8"><header class="mb-9 space-y-2"><p class="font-display text-sm text-primary-60">Conversation Control</p><h1 class="font-display text-3xl text-primary-80">Subscribing to Events</h1></header><div class="prose prose-docs max-w-3xl w-full prose-headings:scroll-mt-28 prose-headings:font-display prose-headings:font-normal lg:prose-headings:scroll-mt-[8.5rem] prose-a:font-normal prose-a:no-underline prose-a:text-accent hover:prose-a:text-accent-darker prose-pre:rounded-xl prose-code:font-normal prose-pre:shadow-lg prose-code:before:content-[&#x27;&#x27;] prose-code:after:content-[&#x27;&#x27;] prose-strong:font-medium"><p>The ConversationHandler allows your application to listen and react to updates within the Touchpoint UI conversation, such as new messages from the bot or user inputs. This enables you to build dynamic experiences, trigger custom UI changes, integrate with analytics, or perform other actions based on the conversation flow.</p>
<ul>
<li><a href="/guide-subscribing-to-events#how-to-subscribe-to-conversation-updates">How to Subscribe to Conversation Updates</a>
<ul>
<li><a href="/guide-subscribing-to-events#subscribecallback"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>subscribe(callback)</code></a></li>
</ul>
</li>
<li><a href="/guide-subscribing-to-events#example-use-case-reacting-to-modalities">Example Use Case: Reacting to Modalities</a></li>
<li><a href="/guide-subscribing-to-events#unsubscribing-from-events">Unsubscribing from Events</a>
<ul>
<li><a href="/guide-subscribing-to-events#unsubscribing-a-specific-listener">Unsubscribing a Specific Listener</a></li>
<li><a href="/guide-subscribing-to-events#unsubscribing-all-listeners">Unsubscribing All Listeners</a></li>
</ul>
</li>
<li><a href="/guide-subscribing-to-events#working-with-response-objects">Working with Response Objects</a>
<ul>
<li><a href="/guide-subscribing-to-events#nlx-response-object-details">NLX Response Object Details</a></li>
<li><a href="/guide-subscribing-to-events#user-response-object-details">User Response Object Details</a></li>
<li><a href="/guide-subscribing-to-events#failure-response-object-details">Failure Response Object Details</a></li>
</ul>
</li>
</ul>
<h2 id="how-to-subscribe-to-conversation-updates">How to Subscribe to Conversation Updates</h2>
<p>You use the <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>conversationHandler.subscribe()</code> method to register a callback function. This callback is invoked whenever the conversation history changes (e.g., a new message is added).</p>
<h3 id="subscribecallback"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>subscribe(callback)</code></h3>
<p>The <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>subscribe</code> method takes a callback function that will be called with <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>(allResponses: Response[], newResponse?: Response)</code></p>




















<table><thead><tr><th style="text-align:left">Parameter</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>allResponses</code></td><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>Response[]</code></td><td style="text-align:left">An array containing all <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>Response</code> objects in the conversation history up to this point. This reflects the complete current state of the conversation.</td></tr><tr><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>newResponse</code></td><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>Response?</code></td><td style="text-align:left">The most recent <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>Response</code> object that triggered this specific callback invocation. It is <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>undefined</code> during the initial call when the subscriber first registers.</td></tr></tbody></table>
<p>The <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>subscribe</code> method returns a function that you can call later to unsubscribe this specific callback.</p>
<p><strong>JavaScript</strong></p>
<pre class="relative group !font-mono"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><div class="rounded-full w-fit gap-1 p-0.5 inline-flex bg-primary-10 text-primary-80"><button class="px-10 py-0.5 flex-grow rounded-full text-xs whitespace-pre bg-secondary-80">HTML</button><button class="px-10 py-0.5 flex-grow rounded-full text-xs whitespace-pre enabled:hover:bg-primary-10">JS</button></div><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><div class="prismjs"><code class="language-html" style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="token tag punctuation">&lt;</span><span class="token tag">html</span><span class="token tag"> </span><span class="token tag attr-name">lang</span><span class="token tag attr-value punctuation attr-equals">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">en</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">2</span><span class="">  </span><span class="token tag punctuation">&lt;</span><span class="token tag">head</span><span class="token tag punctuation">&gt;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">3</span><span class="">    </span><span class="token tag punctuation">&lt;</span><span class="token tag">title</span><span class="token tag punctuation">&gt;</span><span class="">Touchpoint Sample HTML</span><span class="token tag punctuation">&lt;/</span><span class="token tag">title</span><span class="token tag punctuation">&gt;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class="">    </span><span class="token tag punctuation">&lt;</span><span class="token tag">meta</span><span class="token tag"> </span><span class="token tag attr-name">name</span><span class="token tag attr-value punctuation attr-equals">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">viewport</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"> </span><span class="token tag attr-name">content</span><span class="token tag attr-value punctuation attr-equals">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">width=device-width, initial-scale=1</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class="">  </span><span class="token tag punctuation">&lt;/</span><span class="token tag">head</span><span class="token tag punctuation">&gt;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class="">  </span><span class="token tag punctuation">&lt;</span><span class="token tag">body</span><span class="token tag punctuation">&gt;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">7</span><span class="">    </span><span class="token tag punctuation">&lt;</span><span class="token tag">script</span><span class="token tag"> </span><span class="token tag attr-name">type</span><span class="token tag attr-value punctuation attr-equals">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">module</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token script language-javascript">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">8</span><span class="token script language-javascript">      </span><span class="token script language-javascript keyword module">import</span><span class="token script language-javascript"> </span><span class="token script language-javascript imports punctuation">{</span><span class="token script language-javascript imports"> create</span><span class="token script language-javascript imports punctuation">,</span><span class="token script language-javascript imports"> </span><span class="token script language-javascript imports maybe-class-name">React</span><span class="token script language-javascript imports punctuation">,</span><span class="token script language-javascript imports"> html </span><span class="token script language-javascript imports punctuation">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword module">from</span><span class="token script language-javascript"> </span><span class="token script language-javascript string">&quot;https://unpkg.com/@nlxai/touchpoint-ui@1.1.6/lib/index.js?module&quot;</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript">
</span><span class="token script language-javascript"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">9</span>      
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">10</span><span class="token script language-javascript">      </span><span class="token script language-javascript comment">// Assuming &#x27;touchpoint&#x27; is initialized as per the setup guide</span><span class="token script language-javascript">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class="token script language-javascript">      </span><span class="token script language-javascript comment">// const touchpoint = await create({ config: { /* ... */ } });</span><span class="token script language-javascript">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">12</span><span class="token script language-javascript">      </span><span class="token script language-javascript keyword">const</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation">{</span><span class="token script language-javascript"> conversationHandler </span><span class="token script language-javascript punctuation">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator">=</span><span class="token script language-javascript"> touchpoint</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript">
</span><span class="token script language-javascript"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">13</span>      
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">14</span><span class="token script language-javascript">      </span><span class="token script language-javascript keyword">const</span><span class="token script language-javascript"> </span><span class="token script language-javascript function-variable function">myConversationListener</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript parameter">allResponses</span><span class="token script language-javascript parameter punctuation">,</span><span class="token script language-javascript parameter"> newResponse</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation">{</span><span class="token script language-javascript">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">15</span><span class="token script language-javascript">        </span><span class="token script language-javascript console class-name">console</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">log</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript string">&quot;Total messages so far:&quot;</span><span class="token script language-javascript punctuation">,</span><span class="token script language-javascript"> allResponses</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript property-access">length</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript">
</span><span class="token script language-javascript"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">16</span>      
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">17</span><span class="token script language-javascript">        </span><span class="token script language-javascript keyword control-flow">if</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript">newResponse</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation">{</span><span class="token script language-javascript">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">18</span><span class="token script language-javascript">          </span><span class="token script language-javascript console class-name">console</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">log</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript string">&quot;A new response was received. Type:&quot;</span><span class="token script language-javascript punctuation">,</span><span class="token script language-javascript"> newResponse</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript property-access">type</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">19</span><span class="token script language-javascript">          </span><span class="token script language-javascript comment">// Further processing of newResponse...</span><span class="token script language-javascript">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">20</span><span class="token script language-javascript">        </span><span class="token script language-javascript punctuation">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword control-flow">else</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation">{</span><span class="token script language-javascript">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">21</span><span class="token script language-javascript">          </span><span class="token script language-javascript console class-name">console</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">log</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript string">&quot;Subscription initialized. Historical messages:&quot;</span><span class="token script language-javascript punctuation">,</span><span class="token script language-javascript"> allResponses</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">22</span><span class="token script language-javascript">        </span><span class="token script language-javascript punctuation">}</span><span class="token script language-javascript">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">23</span><span class="token script language-javascript">      </span><span class="token script language-javascript punctuation">}</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript">
</span><span class="token script language-javascript"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">24</span>      
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">25</span><span class="token script language-javascript">      </span><span class="token script language-javascript comment">// Start listening to conversation updates</span><span class="token script language-javascript">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">26</span><span class="token script language-javascript">      </span><span class="token script language-javascript keyword">const</span><span class="token script language-javascript"> unsubscribeListener </span><span class="token script language-javascript operator">=</span><span class="token script language-javascript"> conversationHandler</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">subscribe</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">27</span><span class="token script language-javascript">        myConversationListener</span><span class="token script language-javascript punctuation">,</span><span class="token script language-javascript">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">28</span><span class="token script language-javascript">      </span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript">
</span><span class="token script language-javascript"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">29</span>      
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">30</span><span class="token script language-javascript">      </span><span class="token script language-javascript comment">// To stop this specific listener later:</span><span class="token script language-javascript">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">31</span><span class="token script language-javascript">      </span><span class="token script language-javascript comment">// unsubscribeListener();</span><span class="token script language-javascript">
</span><span class="token script language-javascript"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">32</span>      
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">33</span><span class="token script language-javascript">    </span><span class="token tag punctuation">&lt;/</span><span class="token tag">script</span><span class="token tag punctuation">&gt;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">34</span><span class="">  </span><span class="token tag punctuation">&lt;/</span><span class="token tag">body</span><span class="token tag punctuation">&gt;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">35</span><span class=""></span><span class="token tag punctuation">&lt;/</span><span class="token tag">html</span><span class="token tag punctuation">&gt;</span></code></div></pre>
<h2 id="example-use-case-reacting-to-modalities">Example Use Case: Reacting to Modalities</h2>
<p>A common use for <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>subscribe</code> is to detect and act upon custom modalities sent by NLX. This example looks for the Modalities to be defined in NLX: <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>MapDisplay</code> and <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>TrackOrder</code></p>
<pre class="relative group !font-mono"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><div class="prismjs"><code class="language-js" style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="token comment">// Assuming &#x27;conversationHandler&#x27; is obtained</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">2</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">3</span><span class=""></span><span class="token keyword">const</span><span class=""> </span><span class="token function-variable function">handleConversationUpdate</span><span class=""> </span><span class="token operator">=</span><span class=""> </span><span class="token punctuation">(</span><span class="token parameter">allResponses</span><span class="token parameter punctuation">,</span><span class="token parameter"> newResponse</span><span class="token punctuation">)</span><span class=""> </span><span class="token arrow operator">=&gt;</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class="">  </span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="">newResponse </span><span class="token operator">&amp;&amp;</span><span class=""> newResponse</span><span class="token punctuation">.</span><span class="token property-access">type</span><span class=""> </span><span class="token operator">===</span><span class=""> </span><span class="token string">&quot;bot&quot;</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class="">    </span><span class="token keyword">const</span><span class=""> botPayload </span><span class="token operator">=</span><span class=""> newResponse</span><span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class="">    </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;Bot says:&quot;</span><span class="token punctuation">,</span><span class=""> botPayload</span><span class="token punctuation">.</span><span class="token property-access">messages</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">m</span><span class="token punctuation">)</span><span class=""> </span><span class="token arrow operator">=&gt;</span><span class=""> m</span><span class="token punctuation">.</span><span class="token property-access">text</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">7</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">8</span><span class="">    </span><span class="token comment">// Check for a specific custom modality, e.g., &quot;MapDisplay&quot;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class="">    </span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="">botPayload</span><span class="token punctuation">.</span><span class="token property-access">modalities</span><span class="token operator">?.</span><span class="token maybe-class-name">MapDisplay</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">10</span><span class="">      </span><span class="token keyword">const</span><span class=""> mapData </span><span class="token operator">=</span><span class=""> botPayload</span><span class="token punctuation">.</span><span class="token property-access">modalities</span><span class="token punctuation">.</span><span class="token property-access maybe-class-name">MapDisplay</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class="">      </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;Received MapDisplay data:&quot;</span><span class="token punctuation">,</span><span class=""> mapData</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">12</span><span class="">      </span><span class="token comment">// Example: Call a function to render a map on your page</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">13</span><span class="">      </span><span class="token comment">// renderMapOnPage(mapData.latitude, mapData.longitude, mapData.zoom);</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">14</span><span class="">    </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">15</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">16</span><span class="">    </span><span class="token comment">// Check for another modality, e.g., &quot;TrackOrder&quot;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">17</span><span class="">    </span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="">botPayload</span><span class="token punctuation">.</span><span class="token property-access">modalities</span><span class="token operator">?.</span><span class="token maybe-class-name">TrackOrder</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">18</span><span class="">      </span><span class="token keyword">const</span><span class=""> orderDetails </span><span class="token operator">=</span><span class=""> botPayload</span><span class="token punctuation">.</span><span class="token property-access">modalities</span><span class="token punctuation">.</span><span class="token property-access maybe-class-name">TrackOrder</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">19</span><span class="">      </span><span class="token comment">// Example: Update UI with order status</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">20</span><span class="">      </span><span class="token comment">// displayOrderStatus(orderDetails.status, orderDetails.estimatedDelivery);</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">21</span><span class="">    </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">22</span><span class="">  </span><span class="token punctuation">}</span><span class=""> </span><span class="token keyword control-flow">else</span><span class=""> </span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="">newResponse </span><span class="token operator">&amp;&amp;</span><span class=""> newResponse</span><span class="token punctuation">.</span><span class="token property-access">type</span><span class=""> </span><span class="token operator">===</span><span class=""> </span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">23</span><span class="">    </span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="">newResponse</span><span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">type</span><span class=""> </span><span class="token operator">===</span><span class=""> </span><span class="token string">&quot;text&quot;</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">24</span><span class="">      </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;User sent text:&quot;</span><span class="token punctuation">,</span><span class=""> newResponse</span><span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">text</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">25</span><span class="">      </span><span class="token comment">// Example: Send user messages to an analytics service</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">26</span><span class="">      </span><span class="token comment">// analytics.track(&quot;UserMessageSent&quot;, { text: newResponse.payload.text });</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">27</span><span class="">    </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">28</span><span class="">  </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">29</span><span class=""></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">30</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">31</span><span class=""></span><span class="token keyword">const</span><span class=""> unsubscribe </span><span class="token operator">=</span><span class=""> conversationHandler</span><span class="token punctuation">.</span><span class="token method function property-access">subscribe</span><span class="token punctuation">(</span><span class="">handleConversationUpdate</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">32</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">33</span><span class=""></span><span class="token comment">// Later, if you need to clean up:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">34</span><span class=""></span><span class="token comment">// unsubscribe();</span></code></div></pre>
<h2 id="unsubscribing-from-events">Unsubscribing from Events</h2>
<p>It&#x27;s important to clean up subscriptions when they are no longer needed to prevent memory leaks and unintended behavior, especially in single-page applications or when components are unmounted.</p>
<h3 id="unsubscribing-a-specific-listener">Unsubscribing a Specific Listener</h3>
<p>The <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>subscribe</code> method returns a function. Call this function to remove that specific listener.</p>
<pre class="relative group !font-mono"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><div class="prismjs"><code class="language-js" style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="token keyword">const</span><span class=""> unsubscribeMe </span><span class="token operator">=</span><span class=""> conversationHandler</span><span class="token punctuation">.</span><span class="token method function property-access">subscribe</span><span class="token punctuation">(</span><span class="">mySpecificCallback</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">2</span><span class=""></span><span class="token comment">// ... later ...</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">3</span><span class=""></span><span class="token function">unsubscribeMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class=""> </span><span class="token comment">// This will stop mySpecificCallback from being called</span></code></div></pre>
<h3 id="unsubscribing-all-listeners">Unsubscribing All Listeners</h3>
<p>To remove all previously registered subscribers from the <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>conversationHandler</code>:</p>
<pre class="relative group !font-mono"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><div class="prismjs"><code class="language-js" style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="">conversationHandler</span><span class="token punctuation">.</span><span class="token method function property-access">unsubscribeAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></div></pre>
<h2 id="working-with-response-objects">Working with Response Objects</h2>
<p>The <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>Response</code> objects provided to your callback give you detailed information about each interaction. The callback receives <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>allResponses</code> (an array of all historical <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>Response</code> objects) and <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>newResponse</code> (the most recent <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>Response</code> object, if applicable).</p>
<p>A <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>Response</code> object (whether in <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>allResponses</code> or as <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>newResponse</code>) always has a <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>type</code> property that indicates its origin:</p>





















<table><thead><tr><th style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>Response.type</code> Value</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>&quot;bot&quot;</code></td><td style="text-align:left">A message or set of messages from the NLX application.</td></tr><tr><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>&quot;user&quot;</code></td><td style="text-align:left">A message or action initiated by the user.</td></tr><tr><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>&quot;failure&quot;</code></td><td style="text-align:left">An error occurred in communication with the NLX application.</td></tr></tbody></table>
<p>For detailed structures of these objects, refer to the <a href="/headless-api-reference">Headless API Reference</a>.</p>
<h3 id="nlx-response-object-details">NLX Response Object Details</h3>
<p>If the <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>newResponse.type</code> is <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>&quot;bot&quot;</code>, its <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>payload</code> contains details from NLX:</p>




















<table><thead><tr><th style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>newResponse.payload</code> Property</th><th style="text-align:left">Type / Structure</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>messages</code></td><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>BotMessage[]</code></td><td style="text-align:left">An array of message objects from the bot. See <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>BotMessage</code> structure below.</td></tr><tr><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>modalities</code></td><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>Record&lt;string, any&gt;</code> (Optional)</td><td style="text-align:left">An object where keys are modality names (e.g., <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>&quot;MapDisplay&quot;</code>) and values are their data payloads. This allows for custom UI rendering or client-side actions.</td></tr></tbody></table>
<p>Each <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>BotMessage</code> object within the <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>payload.messages</code> array has the following key properties:</p>






























<table><thead><tr><th style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>BotMessage</code> Property</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>text</code></td><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>string</code></td><td style="text-align:left">The text content of the message.</td></tr><tr><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>choices</code></td><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>Choice[]</code></td><td style="text-align:left">An array of choice objects offered to the user.</td></tr><tr><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>nodeId</code></td><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>string?</code></td><td style="text-align:left">Identifier for the flow node that generated this message.</td></tr><tr><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>messageId</code></td><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>string?</code></td><td style="text-align:left">Unique identifier for this specific message.</td></tr></tbody></table>
<p><strong>Example Application Message (Choices)</strong></p>
<pre class="relative group !font-mono"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><div class="prismjs"><code class="language-json" style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">2</span><span class="">  </span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;bot&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">3</span><span class="">  </span><span class="token property">&quot;receivedAt&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token number">1701234567890</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class="">  </span><span class="token property">&quot;payload&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class="">    </span><span class="token property">&quot;conversationId&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;conversationId&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class="">    </span><span class="token property">&quot;messages&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">[</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">7</span><span class="">      </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">8</span><span class="">        </span><span class="token property">&quot;messageId&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;messageId&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class="">        </span><span class="token property">&quot;nodeId&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;nodeId&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">10</span><span class="">        </span><span class="token property">&quot;text&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;Hello! How can I help you today?&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class="">        </span><span class="token property">&quot;choices&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">[</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">12</span><span class="">          </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">13</span><span class="">            </span><span class="token property">&quot;choiceId&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;choice_product_info&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">14</span><span class="">            </span><span class="token property">&quot;choiceText&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;Learn about products&quot;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">15</span><span class="">          </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">16</span><span class="">          </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">17</span><span class="">            </span><span class="token property">&quot;choiceId&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;choice_support&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">18</span><span class="">            </span><span class="token property">&quot;choiceText&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;Get support&quot;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">19</span><span class="">          </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">20</span><span class="">      </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">21</span><span class="">    </span><span class="token punctuation">]</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">22</span><span class="">  </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">23</span><span class=""></span><span class="token punctuation">}</span></code></div></pre>
<p><strong>Example Application Message (modalities)</strong></p>
<pre class="relative group !font-mono"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><div class="prismjs"><code class="language-json" style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">2</span><span class="">  </span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;bot&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">3</span><span class="">  </span><span class="token property">&quot;receivedAt&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token number">1701234597890</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class="">  </span><span class="token property">&quot;payload&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class="">    </span><span class="token property">&quot;messages&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">[</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class="">      </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">7</span><span class="">        </span><span class="token property">&quot;text&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;Here&#x27;s your order information:&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">8</span><span class="">        </span><span class="token property">&quot;choices&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class="">      </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">10</span><span class="">    </span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class="">    </span><span class="token property">&quot;modalities&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">12</span><span class="">      </span><span class="token property">&quot;OrderDetails&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">13</span><span class="">        </span><span class="token property">&quot;orderId&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;ORD-12345&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">14</span><span class="">        </span><span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;Shipped&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">15</span><span class="">        </span><span class="token property">&quot;trackingNumber&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;1Z999AA1234567890&quot;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">16</span><span class="">      </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">17</span><span class="">    </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">18</span><span class="">  </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">19</span><span class=""></span><span class="token punctuation">}</span></code></div></pre>
<h3 id="user-response-object-details">User Response Object Details</h3>
<p>If the <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>newResponse.type</code> is <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>&quot;user&quot;</code>, its <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>payload</code> provides information about the user&#x27;s input:</p>






























<table><thead><tr><th style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>newResponse.payload</code> Property</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>type</code></td><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>&quot;text&quot;</code> | <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>&quot;choice&quot;</code> | <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>&quot;structured&quot;</code></td><td style="text-align:left">Indicates the kind of user input.</td></tr><tr><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>text</code></td><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>string</code></td><td style="text-align:left">The text entered by the user. (Present if <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>payload.type</code> is <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>&quot;text&quot;</code>)</td></tr><tr><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>choiceId</code></td><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>string</code></td><td style="text-align:left">The ID of the choice selected by the user. (Present if <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>payload.type</code> is <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>&quot;choice&quot;</code>)</td></tr><tr><td style="text-align:left"><em>(Other properties)</em></td><td style="text-align:left">(Varies)</td><td style="text-align:left">For <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>payload.type</code> <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>&quot;structured&quot;</code>, other properties relevant to the structured request will be present.</td></tr></tbody></table>
<p><strong>Example User Response (text)</strong></p>
<pre class="relative group !font-mono"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><div class="prismjs"><code class="language-json" style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">2</span><span class="">  </span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">3</span><span class="">  </span><span class="token property">&quot;receivedAt&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token number">1701234577890</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class="">  </span><span class="token property">&quot;payload&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class="">    </span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class="">    </span><span class="token property">&quot;text&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;I need help with my order&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">7</span><span class="">    </span><span class="token property">&quot;context&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">8</span><span class="">      </span><span class="token property">&quot;pageUrl&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;/orders&quot;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class="">    </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">10</span><span class="">  </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class=""></span><span class="token punctuation">}</span></code></div></pre>
<p><strong>Example User Response (choice)</strong></p>
<pre class="relative group !font-mono"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><div class="prismjs"><code class="language-json" style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">2</span><span class="">  </span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">3</span><span class="">  </span><span class="token property">&quot;receivedAt&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token number">1701234587890</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class="">  </span><span class="token property">&quot;payload&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class="">    </span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;choice&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class="">    </span><span class="token property">&quot;choiceId&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;choice_support&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">7</span><span class="">    </span><span class="token property">&quot;context&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">8</span><span class="">  </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class=""></span><span class="token punctuation">}</span></code></div></pre>
<h3 id="failure-response-object-details">Failure Response Object Details</h3>
<p>If the <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>newResponse.type</code> is <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>&quot;failure&quot;</code>, its <div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>payload</code> contains error information:</p>















<table><thead><tr><th style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>newResponse.payload</code> Property</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>text</code></td><td style="text-align:left"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><code>string</code></td><td style="text-align:left">A description of the error or failure encountered during communication with the NLX application.</td></tr></tbody></table>
<p><strong>Example Failure Message</strong></p>
<pre class="relative group !font-mono"><div class="absolute top-1.5 right-1.5 hidden group-hover:flex items-center gap-2"><button class="w-6 h-6 p-1.5 bg-primary-10 text-primary-60 rounded-lg hover:bg-primary-20 hover:text-primary-80 "><svg width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><div class="prismjs"><code class="language-json" style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">2</span><span class="">  </span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;failure&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">3</span><span class="">  </span><span class="token property">&quot;receivedAt&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token number">1701234607890</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class="">  </span><span class="token property">&quot;payload&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class="">    </span><span class="token property">&quot;text&quot;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;We encountered an issue. Please try again soon.&quot;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class="">  </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">7</span><span class=""></span><span class="token punctuation">}</span></code></div></pre></div></main><dl class="mt-12 border-t border-primary-10 pt-6"><div class="flex max-w-3xl mx-auto"><div><dt class="text-base text-primary-60">Previous</dt><dd class="mt-1"><a class="flex items-center gap-x-1 text-base text-primary-90 hover:text-white flex-row-reverse" href="/guide-custom-launch">Conversation Control: Launching with Context<svg viewBox="0 0 16 16" aria-hidden="true" class="h-4 w-4 flex-none fill-current -scale-x-100"><path d="m9.182 13.423-1.17-1.16 3.505-3.505H3V7.065h8.517l-3.506-3.5L9.181 2.4l5.512 5.511-5.511 5.512Z"></path></svg></a></dd></div><div class="ml-auto text-right"><dt class="text-base text-primary-60">Next</dt><dd class="mt-1"><a class="flex items-center gap-x-1 text-base text-primary-90 hover:text-white" href="/guide-show-hide-touchpoint">Conversation Control: Showing and Hiding Touchpoint<svg viewBox="0 0 16 16" aria-hidden="true" class="h-4 w-4 flex-none fill-current"><path d="m9.182 13.423-1.17-1.16 3.505-3.505H3V7.065h8.517l-3.506-3.5L9.181 2.4l5.512 5.511-5.511 5.512Z"></path></svg></a></dd></div></div></dl></article></div></div></div>
    </div>
    <div id="portal"></div>
    
  </body>
</html>
