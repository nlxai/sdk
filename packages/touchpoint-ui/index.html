<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <style>
      main {
        padding: 15px;
      }

      main * {
        font-family: Helvetica, sans-serif;
      }
    </style>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Touchpoint prototype</title>
  </head>

  <body>
    <script type="module">
      import { create, html } from "/src/index.tsx";

      const touchpoint = await create({
        config: {
          applicationUrl:
            "https://bots.dev.studio.nlx.ai/c/CBuQ3LpsClG5EQoSObVkK/IPzJitiaN8qtJFL3Wz1Jp",
          headers: {
            "nlx-api-key": "m3kVBd9QeCc5bXInhWIPG3ns",
          },
          userId: "1234-5678",
          languageCode: "en-US",
        },
        input: "voiceMini",
        launchIcon: CustomLaunchButton,
        initializeConversation: () => {},
      });

      const handler = touchpoint.conversationHandler;

      handler.setRequestOverride((req, append) => {
        append({
          messages: [],
          metadata: {
            sources: [
              { fileName: "a", presignedUrl: "https://a.com" },
              { fileName: "a", presignedUrl: "https://a.com" },
              { fileName: "b", presignedUrl: "https://a.com" },
            ],
          },
        });
      });

      handler.sendText("abcd");
    </script>
  </body>
</html>
